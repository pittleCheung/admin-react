import{r as s,u as h,j as a,I as F,S as f,T as _}from"./index.0ce2eb6d.js";import{g as C,e as D}from"./userlist.e0d2eee9.js";import{d as o,p as I}from"./tools.decfb751.js";import{T as k}from"./Table.8b57651f.js";import{I as v}from"./index.043d2106.js";import"./index.08278916.js";const S={"delete-text":"_delete-text_14z5t_1","edit-text":"_edit-text_14z5t_5"},P=N=>{const[i,r]=s.exports.useState(o("userData"));s.exports.useState(!1);const d=h(),u=(t=I(i.paging))=>{C(t).then(e=>{r(o("userData",e))})},l=t=>{const e=t.id;d("/userList/"+e)},c=(t,e)=>{var n;e.nickname=t.target.value,(n=i.list)==null||n.forEach((g,x)=>{g.id===e.id&&(i.list[x]=e)}),r({...i})},p=t=>{D({id:t.id,nickname:t.nickname})},m=[{title:"ID",dataIndex:"id",render:t=>a("a",{children:t})},{title:"\u5934\u50CF",render:t=>a(v,{width:200,src:t.avatar,style:{width:"50px",height:"50px"}})},{title:"\u6635\u79F0",render:(t,e)=>a(F,{placeholder:"\u6635\u79F0",value:t.nickname,onChange:n=>c(n,e),onBlur:()=>p(e)})},{title:"\u6027\u522B",render:t=>t.gender===2?"\u5973":"\u7537"},{title:"\u6CE8\u518C\u65F6\u95F4",dataIndex:"register_time"},{title:"\u6700\u8FD1\u767B\u5F55",dataIndex:"last_login_time"},{title:"\u64CD\u4F5C",render:(t,e)=>a(f,{children:a(_,{placement:"top",title:"\u7F16\u8F91",children:a("span",{onClick:()=>l(e),className:S["edit-text"],children:"\u7F16\u8F91"})})})}];return s.exports.useEffect(()=>{u()},[]),a("div",{children:a(k,{columns:m,pagination:{...i.paging,onChange:(t,e)=>u({page:t,size:e})},dataSource:i.list,rowKey:t=>t.id})})};export{P as default};
